### 茱莉亚单元测试
****
作为一个完整的语言，Julia具有单元测试功能，可以确保您的代码按预期执行。单元测试通常驻留在测试文件夹中。

FactCheck和Base.Test两个可用于Julia单元测试的标准功能。他们都做同样的事情，但对不合格的测试反应不同。 FactCheck会产生一个错误信息，不会停止处理失败。如果您提供错误处理程序，则该错误处理程序可以控制测试。

Base.Test会抛出一个异常，并在第一次测试失败时停止处理。在这方面，作为一个单元测试函数可能没有什么用处，因为运行时测试可能会确保参数在合理的范围之内，否则就是在发生错误之前停止处理。
 




这两个软件包都内置在标准的Julia发行版中。

作为一个例子，我们可以创建一个单元测试笔记本，它执行相同的测试，并查看由此产生的不同的错误响应（即测试失败）。

对于FactCheck，我们将使用这个脚本：



```
using FactCheck f(x) = x^3 facts("cubes") do

@fact f(2) --> 8

@fact f(2) --> 7

End
```




我们正在使用FactCheck软件包。我们测试的简单功能是对一个数字进行立方体化，但它可能是任何东西。我们将我们的测试包装在一个facts（）do ... end块中。每个测试都在与其他任何块相独立的块中运行，以便将我们的单元测试分组在一起 - 并以@fact作为前缀。另外，请注意我们正在测试函数结果跟在 - >是否是右边的参数。

当我们在Jupyter中运行这个时，我们看到下面屏幕截图中显示的结果：



![](/assets/78.jpg)



你可以看到失败的测试，失败的原因，失败的原因等等，以及被执行的事实块摘要，即通过（验证）的测试次数和 测试失败。 请注意，脚本继续运行到下一行。

对于Base.Test，我们有一个类似的脚本：

使用Base.Test f（x）= x ^ 3
@test f（2）== 8

@test f（2）== 7

我们正在使用Base.Test包。 我们正在使用的函数定义也是立方体。 然后每个测试都是单独的 - 不是作为测试块的一部分 - 以@test作为前缀。 在Jupyter中运行这个脚本，我们看到了类似的结果，如下图所示：

![](/assets/79.jpg)

显示失败的测试信息。 但是，在这种情况下，此时脚本停止执行。 因此，我只会考虑运行时检查来验证输入格式。
 













[99]