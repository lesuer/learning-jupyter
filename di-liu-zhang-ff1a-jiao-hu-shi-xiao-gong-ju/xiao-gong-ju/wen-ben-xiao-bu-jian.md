### 文本小部件

文本小部件从用户收集一个文本字符串，用于脚本中的其他地方。 文本小部件有一个描述（标签）和一个值（由用户输入，或预设在脚本中）。
 


[131]

 
交互式的小工具

在这个例子中，我们将收集一个文本字符串，并将其作为脚本输出的一部分显示在屏幕上。 我们将使用以下脚本：


```
from ipywidgets import widgets

from IPython.display import display text.on_submit(handle_submit) display(text)

def	handle_submit(sender): print(text.value)

text.on_submit(handle_submit)

```
包含基本小部件的Python包是ipywidgets，所以我们需要引用它。 我们为文本字段定义一个处理程序，当用户点击“提交”（在输入文本值之后）时，该处理程序将被调用。 我们正在使用文本部件：


![](/assets/cv.jpg)

我们应该指出这个页面的一些亮点：

   页面元素的排序并不重要。 该页面由页面顶部附近的text = ...语句驱动，可能出现在该页面的顶部。

   调用小部件时，小部件会自动查找脚本中可能关联的任何处理程序。 在这种情况下，我们有一个提交处理程序。 还有许多其他的处理程序可用。 text.on_submit将处理程序分配给小部件。

   如果没有处理程序可用，我们有一个标准的Python笔记本。
 

[132]

 
交互式的小工具

如果我们运行脚本（Cell | Run All），我们得到如下的屏幕（等待我们在文本框中输入一个值）：

![](/assets/gb.jpg)

一旦我们输入一个值并按下Enter键，脚本就会继续，我们有如下输出：

![](/assets/yh.jpg)

所以，我们的脚本已经建立了一个用于收集用户输入的小部件，然后，这个小部件做了一些有价值的事情（我们只是在这里显示，但我们可以使用输入进行进一步处理）。 在这个例子中，我将单词测试输入到小部件中，然后按Enter键。 这导致脚本调用on_submit处理程序，该处理程序将打印出的值输入到字段中。

